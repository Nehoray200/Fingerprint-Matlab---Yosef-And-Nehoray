function mask = get_roi_mask(skeletonImg)
    % get_roi_mask - יוצרת מסיכה בינארית של אזור האצבע
    % קלט: תמונת שלד (או בינארית)
    % פלט: מסיכה (1=אזור האצבע המרכזי, 0=רקע וקצוות)

    % 1. הופכים ללוגי (אם זה לא כבר)
    bin = ~logical(skeletonImg); 
    
    % 2. סגירה מורפולוגית (Closing)
    % מחברים את כל הקווים לגוש אחד גדול ולבן
    % משתמשים בדיסק בגודל 15 כדי לגשר על המרווחים בין הרכסים
    closedImg = imclose(bin, strel('disk', 15));
    
    % 3. מילוי חורים (Fill Holes)
    % אם נשארו "חורים" שחורים בתוך האצבע - ממלאים אותם
    filledImg = imfill(closedImg, 'holes');
    
    % 4. כיווץ (Erosion) - השלב הקריטי!
    % אנחנו מקטינים את האזור הלבן פנימה ב-10 פיקסלים.
    % זה מבטיח שכל נקודות ה"סיום" שנוצרו בקצה האצבע ייפלו מחוץ למסיכה.
    mask = imerode(filledImg, strel('disk', 10));
    
    % המרה ללוגי סופי
    mask = logical(mask);
end